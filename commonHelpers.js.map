{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["function photoCardTemplate({\n  views,\n  downloads,\n  likes,\n  comments,\n  webformatURL,\n  largeImageURL,\n  tags,\n}) {\n  return `<li class=\"card\">\n      <a class=\"card-image-wrapper\" href=\"${largeImageURL}\">\n        <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" data-full=\"${largeImageURL}\">\n      </a>\n      <ul class=\"card-content\">\n        <li class=\"card-content-item\">Likes <span data-likes=\"\">${likes}</span></li>\n        <li class=\"card-content-item\">Comments <span data-comments=\"\">${comments}</span></li>\n        <li class=\"card-content-item\">Views <span data-views=\"\">${views}</span></li>\n        <li class=\"card-content-item\">Downloads <span data-downloads=\"\">${downloads}</span></li>\n      </ul>\n    </li>`;\n}\n\nexport function photoCardsTemplate(photos) {\n  return photos.map(photo => photoCardTemplate(photo)).join('');\n}\n","const BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api/';\n\nexport function getPhotos(query) {\n  query = query.toLowerCase().split(' ').join('+').toString();\n\n  const params = new URLSearchParams({\n    key: '44587704-58c585ec777ca11520d849bef',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url)\n    .then(res => res.json())\n    .catch(err => console.log(err));\n}\n","import { photoCardsTemplate } from './js/render-functions';\nimport { getPhotos } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.entry-form'),\n  input: document.querySelector('.entry-form-input'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst iziParams = {\n  titleColor: '#FFFFFF',\n  messageColor: '#FFFFFF',\n  backgroundColor: '#EF4040',\n  progressBarColor: '#B51B1B',\n  message:\n    'Sorry, there are no images matching<br>' +\n    'your search query.Please try again!',\n  position: 'topRight',\n  iconUrl: '../img/sad.svg',\n};\n\nconst simpleParams = {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n};\n\nlet gallery;\n\nfunction showLoader() {\n  refs.loader.classList.remove('visually-hidden');\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('visually-hidden');\n}\n\nfunction onPhotosSearch(query) {\n  refs.gallery.innerHTML = '';\n  showLoader();\n  getPhotos(query)\n    .then(res => {\n      if (res.hits.length === 0) {\n        iziToast.show(iziParams);\n        return;\n      }\n      const markup = photoCardsTemplate(res.hits);\n      refs.gallery.insertAdjacentHTML('afterbegin', markup);\n      gallery = new SimpleLightbox('.gallery a', simpleParams);\n      gallery.refresh();\n      gallery.on('show.simplelightbox');\n    })\n\n    .catch(error => {\n      iziToast.error({\n        message:\n          'Sorry, there was an error fetching images. Please try again later!',\n        maxWidth: '322px',\n        iconUrl: closeImageURL,\n        backgroundColor: '#EF4040',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        theme: 'dark',\n      });\n    })\n\n    .finally(() => hideLoader());\n}\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = refs.input.value.trim();\n  onPhotosSearch(query);\n  refs.form.reset();\n});\n"],"names":["photoCardTemplate","views","downloads","likes","comments","webformatURL","largeImageURL","tags","photoCardsTemplate","photos","photo","BASE_URL","END_POINT","getPhotos","query","params","url","res","err","refs","iziParams","simpleParams","gallery","showLoader","hideLoader","onPhotosSearch","iziToast","markup","SimpleLightbox","error","e"],"mappings":"6vBAAA,SAASA,EAAkB,CACzB,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,CACF,EAAG,CACD,MAAO;AAAA,4CACmCD,CAAa;AAAA,uCAClBD,CAAY,UAAUE,CAAI,gBAAgBD,CAAa;AAAA;AAAA;AAAA,kEAG5BH,CAAK;AAAA,wEACCC,CAAQ;AAAA,kEACdH,CAAK;AAAA,0EACGC,CAAS;AAAA;AAAA,UAGnF,CAEO,SAASM,EAAmBC,EAAQ,CACzC,OAAOA,EAAO,IAAIC,GAASV,EAAkBU,CAAK,CAAC,EAAE,KAAK,EAAE,CAC9D,CCxBA,MAAMC,EAAW,sBACXC,EAAY,QAEX,SAASC,EAAUC,EAAO,CAC/BA,EAAQA,EAAM,YAAW,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EAAE,WAEjD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKE,EAAM,GAAGL,CAAQ,GAAGC,CAAS,IAAIG,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CCZA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,mBAAmB,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAY,CAChB,WAAY,UACZ,aAAc,UACd,gBAAiB,UACjB,iBAAkB,UAClB,QACE,6EAEF,SAAU,WACV,QAAS,gBACX,EAEMC,EAAe,CACnB,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAClB,EAEA,IAAIC,EAEJ,SAASC,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,iBAAiB,CAChD,CAEA,SAASK,GAAa,CACpBL,EAAK,OAAO,UAAU,IAAI,iBAAiB,CAC7C,CAEA,SAASM,EAAeX,EAAO,CAC7BK,EAAK,QAAQ,UAAY,GACzBI,IACAV,EAAUC,CAAK,EACZ,KAAKG,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACzBS,EAAS,KAAKN,CAAS,EACvB,MACD,CACD,MAAMO,EAASnB,EAAmBS,EAAI,IAAI,EAC1CE,EAAK,QAAQ,mBAAmB,aAAcQ,CAAM,EACpDL,EAAU,IAAIM,EAAe,aAAcP,CAAY,EACvDC,EAAQ,QAAO,EACfA,EAAQ,GAAG,qBAAqB,CACtC,CAAK,EAEA,MAAMO,GAAS,CACdH,EAAS,MAAM,CACb,QACE,qEACF,SAAU,QACV,QAAS,cACT,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,MAAO,MACf,CAAO,CACP,CAAK,EAEA,QAAQ,IAAMF,EAAU,CAAE,CAC/B,CAEAL,EAAK,KAAK,iBAAiB,SAAUW,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMhB,EAAQK,EAAK,MAAM,MAAM,KAAI,EACnCM,EAAeX,CAAK,EACpBK,EAAK,KAAK,OACZ,CAAC"}